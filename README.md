# ğŸ§ Aladdin Contract - AI Agent å»ä¸­å¿ƒåŒ–å¸‚åœº

> ä¸€ä¸ªåŸºäºä»¥å¤ªåŠçš„ AI Agent é›‡ä½£å¸‚åœºï¼Œé›†æˆä»£å¸æ¿€åŠ±ç³»ç»Ÿï¼Œå®ç° Agent æ³¨å†Œã€é›‡ä½£å…³ç³»ç®¡ç†ã€USDT æ”¯ä»˜æ‰˜ç®¡å’Œ ALD ä»£å¸å¥–åŠ±ã€‚

[![Solidity](https://img.shields.io/badge/Solidity-0.8.20-blue)](https://soliditylang.org/)
[![Hardhat](https://img.shields.io/badge/Hardhat-3.0.6-yellow)](https://hardhat.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Tests](https://img.shields.io/badge/Tests-46%20passing-brightgreen)](#æµ‹è¯•)

---

## ğŸ“– ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [åˆçº¦æ¶æ„](#åˆçº¦æ¶æ„)
- [ä»£å¸ç»æµ](#ä»£å¸ç»æµ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æµ‹è¯•](#æµ‹è¯•)
- [éƒ¨ç½²](#éƒ¨ç½²)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [é¡¹ç›®æ–‡æ¡£](#é¡¹ç›®æ–‡æ¡£)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å®‰å…¨æœºåˆ¶](#å®‰å…¨æœºåˆ¶)
- [è·¯çº¿å›¾](#è·¯çº¿å›¾)

---

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

Aladdin Contract æ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„ AI Agent é›‡ä½£å¸‚åœºï¼Œå…è®¸ï¼š

- ğŸ¤– **Agent æä¾›è€…**æ³¨å†Œ Agent å¹¶è®¾ç½®æ—¥è´¹ç‡
- ğŸ’¼ **é›‡ä¸»**é€šè¿‡æ‰˜ç®¡ USDT é›‡ä½£ä¸€ä¸ªæˆ–å¤šä¸ª Agent
- ğŸ’° **æ™ºèƒ½åˆçº¦**ç®¡ç†èµ„é‡‘æ‰˜ç®¡ã€åˆ†é…å’Œæ‰‹ç»­è´¹
- ğŸ **AladdinToken (ALD)** æ¿€åŠ±ç”Ÿæ€å‚ä¸è€…

### æ ¸å¿ƒä»·å€¼

```
ä¼ ç»Ÿæ¨¡å¼                        Aladdin æ¨¡å¼
ä¸­å¿ƒåŒ–å¹³å° â†’ æŠ½å–é«˜é¢ä½£é‡‘      å»ä¸­å¿ƒåŒ–åˆçº¦ â†’ 2% æ‰‹ç»­è´¹
æ³•å¸ç»“ç®— â†’ è·¨å¢ƒå›°éš¾             USDT ç»“ç®— â†’ å…¨çƒç•…é€š
æ— æ¿€åŠ±æœºåˆ¶                      ALD ä»£å¸æ¿€åŠ± â†’ ä¿ƒè¿›ç”Ÿæ€å¢é•¿
```

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1ï¸âƒ£ Agent ç®¡ç†

- **æ³¨å†Œ Agent**: æä¾›è€…å¯æ³¨å†Œ Agentï¼Œè®¾ç½®æŠ€èƒ½æ ‡ç­¾å’Œæ—¥è´¹ç‡
- **å¤š Agent æ”¯æŒ**: æ¯ä¸ªåœ°å€å¯æ³¨å†Œå¤šä¸ª Agent
- **æŠ€èƒ½æ ‡ç­¾**: çµæ´»çš„æŠ€èƒ½åˆ†ç±»ç³»ç»Ÿ
- **å£°èª‰ç³»ç»Ÿ**: è®°å½• Agent å®Œæˆä»»åŠ¡æ•°å’Œè´¨é‡ï¼ˆé¢„ç•™æ‰©å±•ï¼‰

### 2ï¸âƒ£ é›‡ä½£ç³»ç»Ÿ

- **å¤š Agent é›‡ä½£**: ä¸€æ¬¡é›‡ä½£æœ€å¤š 20 ä¸ª Agent
- **çµæ´»å®šä»·**: åŸºäº Agent æ—¥è´¹ç‡å’Œé›‡ä½£å¤©æ•°
- **USDT æ‰˜ç®¡**: é›‡ä¸»å……å€¼ USDT åˆ°åˆçº¦ï¼Œåˆ›å»ºé›‡ä½£æ—¶é”å®šèµ„é‡‘
- **è‡ªåŠ¨åˆ†é…**: å®Œæˆæ—¶æŒ‰ Agent è´¹ç‡å’Œæ—¶é•¿æ¯”ä¾‹åˆ†é…æŠ¥é…¬

### 3ï¸âƒ£ å¥–åŠ±æœºåˆ¶ ğŸ

**AladdinToken (ALD) æ¿€åŠ±ç”Ÿæ€å‚ä¸ï¼š**

| åœºæ™¯           | å¥–åŠ±            | è¯´æ˜                          |
| -------------- | --------------- | ----------------------------- |
| **æ³¨å†Œ Agent** | 500 ALD         | æ¯ä¸ªåœ°å€é¦–æ¬¡æ³¨å†Œæ—¶å‘æ”¾        |
| **å®Œæˆä»»åŠ¡**   | 500 ALD / Agent | é›‡ä½£å…³ç³»å®Œæˆæ—¶æ¯ä¸ª Agent è·å¾— |

**é˜²åˆ·æœºåˆ¶ï¼š**

- âœ… æ³¨å†Œå¥–åŠ±æ¯åœ°å€ä»…ä¸€æ¬¡
- âœ… å®Œæˆå¥–åŠ±æ¯é›‡ä½£å…³ç³»ä»…ä¸€æ¬¡
- âœ… ç¦æ­¢é›‡ä½£è‡ªå·±çš„ Agent

### 4ï¸âƒ£ æ”¯ä»˜ä¸ç»“ç®—

- **USDT ç»“ç®—**: æ‰€æœ‰äº¤æ˜“ä½¿ç”¨ USDTï¼ˆç¨³å®šä»·å€¼é”šç‚¹ï¼‰
- **2% å¹³å°æ‰‹ç»­è´¹**: ä»é›‡ä½£æ”¯ä»˜ä¸­æ‰£é™¤
- **æŒ‰æ¯”ä¾‹åˆ†é…**: æ ¹æ®æ¯ä¸ª Agent çš„ `ratePer Ã— duration` æƒé‡åˆ†é…
- **ç²¾ç¡®è®¡ç®—**: å¤„ç†é™¤æ³•ä½™æ•°ï¼Œç¡®ä¿æ— èµ„é‡‘æŸå¤±

---

## ğŸ—ï¸ åˆçº¦æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Aladdin Ecosystem                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                   â”‚                   â”‚
            â–¼                   â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ AladdinToken â”‚    â”‚ AgentMarket  â”‚    â”‚RewardManager â”‚
    â”‚   (ERC20)    â”‚â—„â”€â”€â”€â”‚  (æ ¸å¿ƒé€»è¾‘)  â”‚â—„â”€â”€â”€â”‚  (å¥–åŠ±æ± )    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         10 äº¿ä¾›åº”             â–²                   4 äº¿ ALD
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚
                 é›‡ä¸» USDT           Agent æä¾›è€…
                    â”‚                   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
                      é›‡ä½£å…³ç³» & å¥–åŠ±
```

### æ ¸å¿ƒåˆçº¦

#### 1. **AladdinToken.sol**

ERC20 ä»£å¸åˆçº¦

- **æ€»ä¾›åº”é‡**: 1,000,000,000 ALD (10 äº¿)
- **ç¬¦å·**: ALD
- **åç§°**: Aladdin Token
- **åŠŸèƒ½**: ç”Ÿæ€æ¿€åŠ±ã€æ²»ç†ï¼ˆé¢„ç•™ï¼‰ã€è´¨æŠ¼ï¼ˆé¢„ç•™ï¼‰

#### 2. **AgentMarket.sol**

å¸‚åœºæ ¸å¿ƒä¸šåŠ¡é€»è¾‘

- Agent æ³¨å†Œä¸ç®¡ç†
- é›‡ä½£å…³ç³»åˆ›å»ºä¸ç®¡ç†
- USDT æ‰˜ç®¡ä¸åˆ†é…
- é›†æˆ RewardManager è‡ªåŠ¨å‘æ”¾ ALD å¥–åŠ±
- 2% æ‰‹ç»­è´¹æ”¶å–

#### 3. **RewardManager.sol**

å¥–åŠ±ç®¡ç†åˆçº¦

- æŒæœ‰ 4 äº¿ ALD å¥–åŠ±æ± 
- ç®¡ç†æ³¨å†Œå¥–åŠ±å’Œå®Œæˆå¥–åŠ±
- é˜²é‡å¤é¢†å–æœºåˆ¶
- ç»Ÿè®¡å‘æ”¾æ•°æ®
- Owner å¯è°ƒæ•´å¥–åŠ±å‚æ•°

---

## ğŸ’° ä»£å¸ç»æµ

### AladdinToken åˆ†é…æ–¹æ¡ˆï¼ˆ10 äº¿æ€»ä¾›åº”ï¼‰

```
â”œâ”€ ç”Ÿæ€æ¿€åŠ±æ± ï¼ˆRewardManagerï¼‰: 40% = 4 äº¿ ALD
â”‚  â”œâ”€ æ³¨å†Œå¥–åŠ±
â”‚  â”œâ”€ å®Œæˆä»»åŠ¡å¥–åŠ±
â”‚  â””â”€ æœªæ¥æ‰©å±•æ¿€åŠ±
â”‚
â”œâ”€ å›¢é˜Ÿ & é¡¾é—®: 20% = 2 äº¿ ALD
â”‚  â””â”€ 4 å¹´çº¿æ€§è§£é”
â”‚
â”œâ”€ æµåŠ¨æ€§æŒ–çŸ¿: 15% = 1.5 äº¿ ALD
â”‚  â””â”€ è´¨æŠ¼å¥–åŠ±ï¼ˆPhase 2ï¼‰
â”‚
â”œâ”€ ç¤¾åŒºæ²»ç†ï¼ˆDAO é‡‘åº“ï¼‰: 10% = 1 äº¿ ALD
â”‚
â”œâ”€ åˆå§‹æµåŠ¨æ€§: 5% = 0.5 äº¿ ALD
â”‚
â””â”€ ç§å‹Ÿ/å…¬å‹Ÿ: 10% = 1 äº¿ ALD
   â””â”€ 6 ä¸ªæœˆé”å®šæœŸ
```

### ä»£å¸åŠŸèƒ½

| åŠŸèƒ½         | å½“å‰çŠ¶æ€   | æœªæ¥æ‰©å±•                 |
| ------------ | ---------- | ------------------------ |
| **æ¿€åŠ±å¥–åŠ±** | âœ… å·²å®ç°  | åŠ¨æ€è®¡ç®—ã€å£°èª‰åŠ æˆ       |
| **è´¨æŠ¼ææƒ** | â³ Phase 2 | è´¨æŠ¼æå‡æ’åã€æ‰‹ç»­è´¹æŠ˜æ‰£ |
| **æ²»ç†æŠ•ç¥¨** | â³ Phase 3 | DAO æ²»ç†ã€å‚æ•°è°ƒæ•´       |
| **ä»·å€¼æ•è·** | â³ Phase 4 | æ‰‹ç»­è´¹å›è´­ã€ä»£å¸é”€æ¯     |

è¯¦ç»†è®¾è®¡å‚è§ [YIDENG_TOKEN_ECONOMICS.md](YIDENG_TOKEN_ECONOMICS.md)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.x
- pnpm / npm
- Git

### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/aladdin-contract.git
cd aladdin-contract
```

### 2ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
pnpm install
# æˆ–
npm install
```

### 3ï¸âƒ£ ç¯å¢ƒé…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env`ï¼š

```env
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_KEY
SEPOLIA_PRIVATE_KEY=your_private_key_here
ETHERSCAN_API_KEY=your_etherscan_api_key_here
```

### 4ï¸âƒ£ ç¼–è¯‘åˆçº¦

```bash
npm run compile
```

### 5ï¸âƒ£ è¿è¡Œæµ‹è¯•

```bash
npm run test:hardhat
```

æœŸæœ›è¾“å‡ºï¼š

```
âœ” 46 passing
```

### 6ï¸âƒ£ éƒ¨ç½²åˆ°æµ‹è¯•ç½‘

```bash
# ç›´æ¥éƒ¨ç½²åˆ° Sepoliaï¼Œè„šæœ¬ä¼šåœ¨ç¼ºçœé…ç½®æ—¶è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ä»£å¸
npm run deploy:sepolia
```

---

## ğŸ§ª æµ‹è¯•

æœ¬é¡¹ç›®ä½¿ç”¨ **Hardhat + Foundry é£æ ¼ Solidity æµ‹è¯•**ï¼ˆ.t.sol æ–‡ä»¶ï¼‰ã€‚

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆè‡ªåŠ¨å®‰è£… forge-stdï¼‰
npm run test:hardhat

# ä»…è¿è¡Œ Solidity æµ‹è¯•
npm run test:sol

# ç¼–è¯‘åˆçº¦
npm run compile

# æ¸…ç†ç¼“å­˜
npm run clean
```

### æµ‹è¯•è¦†ç›–

**RewardManager.t.sol** (10 ä¸ªæµ‹è¯•)

- âœ… æ³¨å†Œ Agent è·å¾— 500 ALD
- âœ… é˜²é‡å¤é¢†å–æ³¨å†Œå¥–åŠ±
- âœ… å®Œæˆä»»åŠ¡æ¯ä¸ª Agent è·å¾— 500 ALD
- âœ… é˜²é‡å¤é¢†å–å®Œæˆå¥–åŠ±
- âœ… é˜²è‡ªé›‡ä½£åˆ·å¥–åŠ±
- âœ… Owner æƒé™ç®¡ç†
- âœ… ä½™é¢æ£€æŸ¥å’Œç»Ÿè®¡

**AgentMarket.t.sol** (36 ä¸ªæµ‹è¯•)

- âœ… Agent æ³¨å†Œå’Œç®¡ç†
- âœ… USDT å……å€¼æ‰˜ç®¡
- âœ… é›‡ä½£å…³ç³»åˆ›å»º
- âœ… æ”¯ä»˜åˆ†é…è®¡ç®—
- âœ… è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- âœ… äº‹ä»¶è§¦å‘éªŒè¯

è¯¦ç»†æµ‹è¯•æŒ‡å—ï¼š[TESTING_GUIDE.md](TESTING_GUIDE.md)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ é¦–æ¬¡å®‰è£…ä¾èµ–

```bash
# å®‰è£… forge-std åº“ï¼ˆç”¨äº Solidity æµ‹è¯•ï¼‰
npm run setup:forge

# æˆ–æ‰‹åŠ¨å®‰è£…
pnpm install --save-dev github:foundry-rs/forge-std#v1.9.7
```

### 2ï¸âƒ£ è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆä¼šè‡ªåŠ¨å®‰è£… forge-stdï¼‰
npm run test:hardhat

# ä»…è¿è¡Œ Solidity æµ‹è¯•æ–‡ä»¶ï¼ˆ*.t.solï¼‰
npm run test:sol

# ç¼–è¯‘åˆçº¦
npm run compile

# æ¸…ç†ç¼“å­˜
npm run clean
```

---

---

## ğŸ“¦ éƒ¨ç½²

### æœ¬åœ°éƒ¨ç½²

```bash
# å¯åŠ¨æœ¬åœ°èŠ‚ç‚¹
npx hardhat node

# æ–°ç»ˆç«¯éƒ¨ç½²
npm run deploy:local
```

> è„šæœ¬ä¼šåŸºäºå½“å‰ç½‘ç»œè‡ªåŠ¨é€‰æ‹© USDT åœ°å€ï¼ˆSepolia é»˜è®¤æŒ‡å‘ `0x7169...`ï¼‰ï¼Œå¦‚ç½‘ç»œæ— é¢„è®¾åœ°å€åˆ™è‡ªåŠ¨éƒ¨ç½²ä¸´æ—¶ä»£å¸ã€‚å¥–åŠ±ä»£å¸å§‹ç»ˆç”±è„šæœ¬è‡ªåŠ¨éƒ¨ç½²ã€‚

### æµ‹è¯•ç½‘éƒ¨ç½²

```bash
# Sepolia æµ‹è¯•ç½‘
npm run deploy:sepolia
```

> Sepolia é»˜è®¤ä½¿ç”¨é¢„è®¾ USDT åœ°å€ï¼›å…¶å®ƒç½‘ç»œè‹¥æ— é¢„è®¾åœ°å€ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨éƒ¨ç½²ä¸´æ—¶ä»£å¸å¹¶æç¤ºã€‚

### éƒ¨ç½²æµç¨‹

éƒ¨ç½²è„šæœ¬ `scripts/deploy.js` ä¼šè‡ªåŠ¨å®Œæˆï¼š

1. æ ¹æ®å½“å‰ç½‘ç»œé€‰æ‹© USDT åœ°å€ï¼ˆå«é¢„è®¾è¡¨ï¼‰ï¼Œå¹¶éƒ¨ç½² `AgentMarket`ï¼›è‹¥æœªåŒ¹é…åˆ™è‡ªåŠ¨éƒ¨ç½²æµ‹è¯•ä»£å¸ã€‚
2. è‡ªåŠ¨éƒ¨ç½²æ–°çš„ `AladdinToken` ä½œä¸ºå¥–åŠ±ä»£å¸ï¼Œå¹¶éƒ¨ç½² `RewardManager`ã€‚
3. éƒ¨ç½²å®Œæˆåè°ƒç”¨ `setRewardManager` å…³è”åˆçº¦ï¼Œå¹¶è¾“å‡ºæ‰€æœ‰å…³é”®åœ°å€ï¼Œä¾›åç»­éªŒè¯ä¸æ‰‹åŠ¨èµ„é‡‘åˆ’è½¬ã€‚

### åˆçº¦éªŒè¯

```bash
npx hardhat verify --network sepolia <CONTRACT_ADDRESS> <CONSTRUCTOR_ARGS>
```

---

## ğŸ’» ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ³¨å†Œ Agent å¹¶è·å¾—å¥–åŠ±

```javascript
import { ethers } from "hardhat";

// è¿æ¥åˆçº¦
const agentMarket = await ethers.getContractAt("AgentMarket", MARKET_ADDRESS);
const aladdinToken = await ethers.getContractAt("AladdinToken", ALD_ADDRESS);

// å‡†å¤‡æ•°æ®
const skills = ["Solidity", "Web3", "Smart Contracts"];
const dailyRate = ethers.parseEther("100"); // 100 USDT/å¤©

// æ³¨å†Œ Agentï¼ˆè‡ªåŠ¨è·å¾— 500 ALDï¼‰
const tx = await agentMarket.registerAgent(skills, dailyRate);
await tx.wait();

// æ£€æŸ¥å¥–åŠ±
const aldBalance = await aladdinToken.balanceOf(userAddress);
console.log("è·å¾—å¥–åŠ±:", ethers.formatEther(aldBalance), "ALD");
// è¾“å‡º: è·å¾—å¥–åŠ±: 500.0 ALD
```

### ç¤ºä¾‹ 2: é›‡ä½£ Agent å¹¶å®Œæˆä»»åŠ¡

```javascript
// 1. é›‡ä¸»å……å€¼ USDT
const usdt = await ethers.getContractAt("IERC20", USDT_ADDRESS);
await usdt.approve(MARKET_ADDRESS, ethers.parseEther("1000"));
await agentMarket.deposit(ethers.parseEther("1000"));

// 2. åˆ›å»ºé›‡ä½£å…³ç³»ï¼ˆé›‡ä½£ 2 ä¸ª Agentï¼Œ3 å¤©ï¼‰
const agentIds = [1, 2]; // Agent ID
const duration = 3; // å¤©æ•°
const payment = ethers.parseEther("600"); // 600 USDT

await agentMarket.createEmployment(
  employerAddress,
  agentIds,
  duration,
  payment
);

// 3. å®Œæˆä»»åŠ¡
await agentMarket.completeEngagement(1); // employmentId = 1

// ç»“æœï¼š
// - Agent 1 å’Œ 2 æŒ‰è´¹ç‡æ¯”ä¾‹åˆ†é… USDT
// - æ¯ä¸ª Agent è·å¾— 500 ALD å¥–åŠ±
// - å¹³å°æ”¶å– 2% æ‰‹ç»­è´¹
```

### ç¤ºä¾‹ 3: æŸ¥è¯¢ç»Ÿè®¡æ•°æ®

```javascript
const rewardManager = await ethers.getContractAt(
  "RewardManager",
  REWARD_ADDRESS
);

// å¥–åŠ±æ± ä½™é¢
const poolBalance = await rewardManager.getRewardPoolBalance();
console.log("å¥–åŠ±æ± :", ethers.formatEther(poolBalance), "ALD");

// æ€»å‘æ”¾é‡
const totalRewards = await rewardManager.totalRewardsDistributed();
console.log("æ€»å‘æ”¾:", ethers.formatEther(totalRewards), "ALD");

// æ³¨å†Œå¥–åŠ±ç»Ÿè®¡
const regRewards = await rewardManager.totalRegistrationRewards();
console.log("æ³¨å†Œå¥–åŠ±:", ethers.formatEther(regRewards), "ALD");
```

---

## ğŸ“š é¡¹ç›®æ–‡æ¡£

| æ–‡æ¡£                                                   | è¯´æ˜                  |
| ------------------------------------------------------ | --------------------- |
| [CLAUDE.md](CLAUDE.md)                                 | Claude Code å·¥ä½œæŒ‡å—  |
| [AGENTS.md](AGENTS.md)                                 | é¡¹ç›®ç»“æ„å’Œå¼€å‘è§„èŒƒ    |
| [TESTING_GUIDE.md](TESTING_GUIDE.md)                   | Solidity æµ‹è¯•å®Œæ•´æŒ‡å— |
| [REWARD_SYSTEM.md](REWARD_SYSTEM.md)                   | å¥–åŠ±ç³»ç»Ÿè¯¦ç»†æ–‡æ¡£      |
| [YIDENG_TOKEN_ECONOMICS.md](YIDENG_TOKEN_ECONOMICS.md) | ä»£å¸ç»æµæ¨¡å‹è®¾è®¡      |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åŒºå—é“¾

- **Solidity**: 0.8.20
- **OpenZeppelin Contracts**: 5.4.0
- **Hardhat**: 3.0.6
- **Ethers.js**: 6.15.0

### æµ‹è¯•

- **Foundry Forge Std**: 1.9.7
- **Hardhat Solidity Tests**: .t.sol æ–‡ä»¶
- **Chai**: æ–­è¨€åº“

### ç½‘ç»œ

- **Sepolia Testnet**: æµ‹è¯•éƒ¨ç½²
- **USDT**: 0x7169D38820dfd117C3FA1f22a697dBA58d90BA06

### å¼€å‘å·¥å…·

- **TypeScript**: 5.8.3
- **pnpm**: åŒ…ç®¡ç†å™¨
- **Hardhat Toolbox**: å®Œæ•´å¼€å‘å¥—ä»¶

---

## ğŸ” å®‰å…¨æœºåˆ¶

### åˆçº¦å®‰å…¨

| æœºåˆ¶             | å®ç°                           |
| ---------------- | ------------------------------ |
| **é‡å…¥æ”»å‡»é˜²æŠ¤** | ReentrancyGuard (OpenZeppelin) |
| **è®¿é—®æ§åˆ¶**     | Ownable æƒé™ç®¡ç†               |
| **å®‰å…¨è½¬è´¦**     | SafeERC20 å°è£…                 |
| **è‡ªå®šä¹‰é”™è¯¯**   | Gas ä¼˜åŒ–çš„ error ç±»å‹          |
| **è¾“å…¥éªŒè¯**     | æ‰€æœ‰å‚æ•°å®Œæ•´æ ¡éªŒ               |

### ä¸šåŠ¡å®‰å…¨

- âœ… æ³¨å†Œå¥–åŠ±ï¼šæ¯åœ°å€ä»…ä¸€æ¬¡
- âœ… å®Œæˆå¥–åŠ±ï¼šæ¯é›‡ä½£å…³ç³»ä»…ä¸€æ¬¡
- âœ… è‡ªé›‡ä½£æ£€æŸ¥ï¼šé˜²æ­¢åˆ·å¥–åŠ±
- âœ… ä½™é¢æ£€æŸ¥ï¼šé˜²æ­¢è¶…æ”¯
- âœ… æƒé™æ§åˆ¶ï¼šRewardManager åªèƒ½ç”± AgentMarket è°ƒç”¨

### å®¡è®¡çŠ¶æ€

âš ï¸ **æœªå®¡è®¡** - æœ¬é¡¹ç›®ä¸º MVP ç‰ˆæœ¬ï¼Œå°šæœªè¿›è¡Œä¸“ä¸šå®‰å…¨å®¡è®¡ã€‚ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰è¯·è¿›è¡Œå®¡è®¡ã€‚

---

## ğŸ—ºï¸ è·¯çº¿å›¾

### âœ… Phase 1: MVPï¼ˆå·²å®Œæˆï¼‰

- [x] æ ¸å¿ƒ AgentMarket åˆçº¦
- [x] å›ºå®šå¥–åŠ±æœºåˆ¶ï¼ˆ500 ALDï¼‰
- [x] USDT æ‰˜ç®¡å’Œåˆ†é…
- [x] å®Œæ•´æµ‹è¯•è¦†ç›–ï¼ˆ46 ä¸ªæµ‹è¯•ï¼‰
- [x] éƒ¨ç½²è„šæœ¬å’Œæ–‡æ¡£

### ğŸš§ Phase 2: åŠ¨æ€æ¿€åŠ±ï¼ˆè¿›è¡Œä¸­ï¼‰

- [ ] åŸºäºä»»åŠ¡ä»·å€¼çš„åŠ¨æ€å¥–åŠ±
- [ ] å£°èª‰ç³»ç»Ÿå®Œå–„
- [ ] è´¨æŠ¼ææƒæœºåˆ¶
- [ ] æ‰‹ç»­è´¹æŠ˜æ‰£ç³»ç»Ÿ

### ğŸ“… Phase 3: DAO æ²»ç†

- [ ] æŠ•ç¥¨åˆçº¦
- [ ] å‚æ•°æ²»ç†ï¼ˆæ‰‹ç»­è´¹ç‡ã€å¥–åŠ±æ¯”ä¾‹ï¼‰
- [ ] ææ¡ˆç³»ç»Ÿ
- [ ] DAO é‡‘åº“ç®¡ç†

### ğŸ”® Phase 4: ç”Ÿæ€æ‰©å±•

- [ ] æ‰‹ç»­è´¹å›è´­ ALD
- [ ] ä»£å¸é”€æ¯æœºåˆ¶
- [ ] å¤šé“¾éƒ¨ç½²
- [ ] å¤–éƒ¨ dApp é›†æˆ

è¯¦ç»†è®¾è®¡ï¼š[YIDENG_TOKEN_ECONOMICS.md](YIDENG_TOKEN_ECONOMICS.md)

---

## ğŸ“Š åˆçº¦ç»Ÿè®¡

```
æ€»åˆçº¦æ•°: 3
æ€»æµ‹è¯•æ•°: 46 (å…¨éƒ¨é€šè¿‡)
ä»£ç è¦†ç›–: AgentMarket + RewardManager æ ¸å¿ƒåŠŸèƒ½ 100%

åˆçº¦å¤§å°:
â”œâ”€ AladdinToken: ~2KB
â”œâ”€ RewardManager: ~5KB
â””â”€ AgentMarket: ~8KB
```

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ

å‚è§ [CLAUDE.md](CLAUDE.md) å’Œ [AGENTS.md](AGENTS.md)

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ç»´æŠ¤è€…**: [Your Name]
- **é‚®ç®±**: your.email@example.com
- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/your-username/aladdin-contract/issues)

---

## ğŸ™ è‡´è°¢

- [OpenZeppelin](https://openzeppelin.com/) - å®‰å…¨åˆçº¦åº“
- [Hardhat](https://hardhat.org/) - å¼€å‘æ¡†æ¶
- [Foundry](https://getfoundry.sh/) - æµ‹è¯•å·¥å…·

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼â­**

Made with â¤ï¸ by Aladdin Team

</div>
